---
title: "컴퓨터구조, 유튜브 영상(타입 잘 다루기 - 유틸리티 타입 만들기)"
publishedAt: "2024-06-17"
updatedAt: "2024-06-17"
wip: false
summary: ""
---

# 컴퓨터 구조

컴퓨터 구조 지식 (크게)

- 컴퓨터가 이해하는 정보
  - 데이터
  - 명령어
- 컴퓨터의 네 가지 핵심 부품
  - CPU
  - 메모리
  - 보조기억장치
  - 입출력장치

---

## 컴퓨터가 이해하는 정보

컴퓨터는 0과 1만 이해함. 0과 1로 표현되는 정보는 크게 두 종류임. (데이터 / 명령어). 컴퓨터는 명령어를 처리하는 기계.

## 컴퓨터의 4가지 핵심 부품

---

---

# 유틸리티 타입 만들기

- [Typescript Doc Utility Types](https://www.typescriptlang.org/docs/handbook/utility-types.html)

```ts
type Test<T extends number> = T;
// T가 number의 부분집합이다.

type Test<T extends number> = T extends 2 ? 3 : 4;
// T가 2라면 3, 아니라면 4를 반환함.

type CC = Test<1>; // CC = 4
```

`infer` 키워드는 조건부 타입 내에서 주로 사용되며, 타입을 추론하는데 사용한다. `infer`를 사용하면 특정 조건에서 타입을 동적으로 추출할 수 있다.

```ts
type Head<T extends any[]> = T extends [infer F, ...any[]] 
  ? F 
  : undefined;

/* T extends [infer F, ...any[]]는 T가 배열이고,
그 배열의 첫 번째 요소의 타입을 F로 추론하라는 의미 */

type CC = Head<[1, 2, 3]>; // 1
type CC2 = Head<[1]>; // 1
type CC3 = Head<[]>; // undefined
```

타입 체커 (`type Equals`)

```ts
// https://github.com/Microsoft/TypeScript/issues/27024#issuecomment-421529650
type Equals<X, Y> =
  (<T>() => T extends X ? 1 : 2) extends
  (<T>() => T extends Y ? 1 : 2) ? true : false;

/*
  1. <T>() => T extends X ? 1 : 2는 T타입이 X에 타입에 할당 가능한 경우 1을 반환하고, 할당 불가능한 경우 2를 반환하는 함수 타입을 정의.
  2. extends (<T>() => T extends Y ? 1 : 2) extends 1 : 2는 위에서 정의한 함수 타입이 Y 타입에 할당 가능할 경우 1을 반환하고, 그렇지 않을 경우 2를 반환하는 함수 타입과 동일한지 비교한다.
  3. 만약 두 함수 타입이 동일하다면, 즉 모든 T에 대해 X의 할당 가능성이 Y의 할당가능성과 일치한다면 결과는 true가 된다. 그렇지 않다면 false가 된다.
*/

type CC = Equals<1, 1>; // true
type CC2 = Equals<1, 1 | 2>; // false
type CC3 = Equals<1, 2>; // false
```

`declare` 키워드로 함수를 선언하면 실제로 함수를 실행하지 않고도 TS에서 함수를 실행했을 때의 타입을 추론할 수 있다.

```ts
declare function check<X, Y>(params: Equals<Equals<X, Y>, true>): void;

check<Head<[1, 2, 3]>, 1>(true);
check<Head<[1]>, 1>(true);
check<Head<[]>, undefined>(true);
```

`Length`

```ts
type Length<T extends any[]> = T["length"];

check<Length<[1, 2, 3]>, 3>(true);
```

